local repo = "https://raw.githubusercontent.com/deividcomsono/Obsidian/main/"
local Library = loadstring(game:HttpGet(repo .. "Library.lua"))()
local ThemeManager = loadstring(game:HttpGet(repo .. "addons/ThemeManager.lua"))()
local SaveManager = loadstring(game:HttpGet(repo .. "addons/SaveManager.lua"))()

local Options = Library.Options 
local Toggles = Library.Toggles

Library.ForceCheckbox = false
Library.ShowToggleFrameInKeybinds = true

local Window = Library:CreateWindow({
	Title = "Voidity",
	Footer = "[UPDATE] CHAOS | v2.4 | by offp001",
	NotifySide = "Right",
	ShowCustomCursor = false,
})

local Tabs = {
	Main = Window:AddTab("Main", "user"),
	["UI Settings"] = Window:AddTab("UI Settings", "settings"),
}

local LeftGroupBox = Tabs.Main:AddLeftGroupbox("Give Items", "boxes")
local Event = Tabs.Main:AddLeftGroupbox("Event", "boxes")
local Others = Tabs.Main:AddLeftGroupbox("Others", "boxes")

LeftGroupBox:AddButton({
	Text = "Emerald Greatsword",
	Func = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/Key-System-User/chaos/refs/heads/main/emeraldgreatsword"))()
	end,
	DoubleClick = false,
	Tooltip = "Gives Emerald Greatsword",
	DisabledTooltip = "Gives Emerald Greatsword",
	Disabled = false,
	Visible = true,
	Risky = false,
})

LeftGroupBox:AddButton({
	Text = "Blood Dagger",
	Func = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/Key-System-User/chaos/refs/heads/main/blooddagger"))()
	end,
	DoubleClick = false,
	Tooltip = "Gives Blood Dagger",
	DisabledTooltip = "Gives Blood Dagger",
	Disabled = false,
	Visible = true,
	Risky = false,
})

LeftGroupBox:AddButton({
	Text = "Frost Spear",
	Func = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/Key-System-User/chaos/refs/heads/main/frostspear"))()
	end,
	DoubleClick = false,
	Tooltip = "Gives Frost Spear",
	DisabledTooltip = "Gives Frost Spear",
	Disabled = false,
	Visible = true,
	Risky = false,
})

LeftGroupBox:AddButton({
	Text = "Holloween Dagger",
	Func = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/Key-System-User/chaos/refs/heads/main/holloweendagger"))()
	end,
	DoubleClick = false,
	Tooltip = "Gives Holloween Dagger",
	DisabledTooltip = "Gives Holloween Dagger",
	Disabled = false,
	Visible = true,
	Risky = false,
})

Others:AddButton({
	Text = "Shoot Without Revolver ( Key : V | Only Works With Level 8 Executors )",
	Func = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/Key-System-User/chaos/refs/heads/main/shootwithoutrevolver"))()
	end,
	DoubleClick = false,
	Tooltip = "Shoots Without Revolver",
	DisabledTooltip = "Shoots Without Revolver",
	Disabled = false,
	Visible = true,
	Risky = false,
})

Others:AddButton({
	Text = "Execute Infinite Yield FE",
	Func = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
	end,
	DoubleClick = false,
	Tooltip = "Executes Infinite Yield FE",
	DisabledTooltip = "Executes Infinite Yield FE",
	Disabled = false,
	Visible = true,
	Risky = false,
})

Event:AddButton({
	Text = "Finish Event",
	Func = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/Key-System-User/chaos/refs/heads/main/finishevent"))()
	end,
	DoubleClick = false,
	Tooltip = "Finish Event",
	DisabledTooltip = "Finish Event",
	Disabled = false,
	Visible = true,
	Risky = false,
})

local MenuGroup = Tabs["UI Settings"]:AddLeftGroupbox("Menu", "wrench")

MenuGroup:AddToggle("KeybindMenuOpen", {
	Default = Library.KeybindFrame.Visible,
	Text = "Open Keybind Menu",
	Callback = function(value)
		Library.KeybindFrame.Visible = value
	end,
})
MenuGroup:AddToggle("ShowCustomCursor", {
	Text = "Custom Cursor",
	Default = false,
	Callback = function(Value)
		Library.ShowCustomCursor = Value
	end,
})
MenuGroup:AddDropdown("NotificationSide", {
	Values = { "Left", "Right" },
	Default = "Right",
	Text = "Notification Side",
	Callback = function(Value)
		Library:SetNotifySide(Value)
	end,
})
MenuGroup:AddDropdown("DPIDropdown", {
	Values = { "50%", "75%", "100%", "125%", "150%", "175%", "200%" },
	Default = "100%",
	Text = "DPI Scale",
	Callback = function(Value)
		Value = Value:gsub("%%", "")
		local DPI = tonumber(Value)
		Library:SetDPIScale(DPI)
	end,
})
MenuGroup:AddDivider()
MenuGroup:AddLabel("Menu bind")
	:AddKeyPicker("MenuKeybind", { Default = "Delete", NoUI = true, Text = "Menu keybind" })

MenuGroup:AddButton("Unload", function()
	Library:Unload()
end)

Library.ToggleKeybind = Options.MenuKeybind

ThemeManager:SetLibrary(Library)
SaveManager:SetLibrary(Library)
SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({ "MenuKeybind" })
ThemeManager:SetFolder("MyScriptHub")
SaveManager:SetFolder("MyScriptHub/specific-game")
SaveManager:SetSubFolder("specific-place")
SaveManager:BuildConfigSection(Tabs["UI Settings"])
ThemeManager:ApplyToTab(Tabs["UI Settings"])
SaveManager:LoadAutoloadConfig()

Library:OnUnload(function()
	print("Unloaded!")
end)
